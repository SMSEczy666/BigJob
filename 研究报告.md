# 研究报告



## 研究问题

在完成时间相对宽松的情况下，大多数同学都能在OJ编程练习上拿到满分，从而失去区分度。本项目通过考虑多种评价标准，以数据科学大作业的结果数据为样本，进行评分。

应用场景：非限时OJ编程练习

## 2 研究方法

数据分析方法、数据集

### 2.1 数据预处理

过滤无效（无提交等）的数据

提交次数、debug时间、有效行数、mi指数

### 2.2 能力的计算、题型的得分

####  三种能力的计算

将用户四种题型每种能力对应的得分以1：1：1：1的比例相加得到每种能力的分数。


#### 四种题型的得分计算
用户的分数分为三个部分：debug得分、有效行数得分、mi指数得分。得分的具体计算方式可以参照“dim1分析.md”、“dim2分析.md”、“dim3分析.md”、“dim4分析.md”文档。



### 2.3 汇总七种能力

在经过数据预处理和对debug能力，代码简洁度，mi指数及四类题型的分析后，我们把这七项数据汇总到了一起，并进行了数据可视化处理，使得最终的结果能给任课老师提供一种直观的视角。



## 代码解释

[项目的GitHub地址](https://github.com/SMSEczy666/BigJob)

解释代码和项目的关系，代码实现逻辑



### 第一阶段代码

##### 1.读取debug时间（未按条件筛选）

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/readtime.jpg)

​	调用python的json库实现对test_data数据中debug时间数据的提取，debug时间的计算方法是用一道题最后一次提交的时间减去第一次提交的时间。在处理中，滤去了提交记录次数为0的数据项。



### 第二阶段代码

##### 1.预处理前数据特征绘制

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/预处理前数据特征绘制.jpg)

​	此程序是用于在确定最后的对能力计算的公式选择上作为数据可视化的辅助功能，以及实践使用数据可视化方法。

​	其中target_dim为目标分析题型，target_num为目标分析题型的数据项，0代表提交次数，1代表debug时间，2代表有效行数，3代表mi指数。第14行代码对目标分析题型数据项进行筛选，主要是便于分析公式选择时候的断点。第20行到第28行代码调用了matplotlib库，对筛选出来的数据进行直方图可视化，以便我们在数据分析时对数据有直观认识。

#####3.dim2(线性表、字符串)可视化分析

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/dim2分析图1.jpg)

​	代码第18行使用的json文件，是在第一阶段的数据预处理后得到的经过一些条件筛选过滤的数据集，x1-x4数组记录了此数据集中的dim2的数据项。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/dim2分析图2.jpg)

​	num_bins数组中存储的调用matplotlib库画图时使用的区间大小参数。接下来的5个代码块实现了将dim2中数据项可视化的功能。运行此方法得到的结果图如下。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/效果图.jpg)



##### 4.计算在dim2上用户的综合得分情况

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/finalScore.jpg)

​	第43行至第51行间，计算了整个样本中所有数据的平均有效行数和平均MI指数，用于下一步计算单个用户的得分，同时第45行计算了单个用户的debug时间得分，第54行、55行计算了单个用户的有效行数得分和mi指数得分。计算得分的具体方法参见下图。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/finalScore方法.jpg)



##### 5.按单项能力对用户评分

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/calThree1.jpg)

​	先计算每个题型，所有用户的平均有效行数和平均MI指数，并同时计算该用户的debug时间得分。图上所见为计算题型一（数字、数组）的方法，计算其他题型的方法类似。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/calThree2.jpg)

​	然后再使用每种题型的平均有效行数和平均mi指数作为参数计算每个用户在该题型上的得分情况。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/calThree3.jpg)

​	最后再综合每个用户四种题型的得分，再见debug时间得分、有效行数得分和mi指数得分写入到一个json文件中。









## 案例分析

以user_id为48117的样本为例。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/48117数据预处理后数据.png.jpg)

上图为user_id为48117的用户的编程练习结果在经过第一阶段数据预处理后的部分数据指标，其中"dim1"指代题型一（数字，数组）。

![](https://wmx-markdown-pic.oss-cn-chengdu.aliyuncs.com/radar_chart_user_48117.png)

上图为经过7种指标的计算和对结果数据的可视化处理后后，48117用户的雷达图。





## 对课程的意见



## 附录











